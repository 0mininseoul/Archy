// Universal Prompt - 맥락 기반 요약 및 구조화된 문서 생성
const UNIVERSAL_PROMPT = `당신은 전문 에디터이자 콘텐츠 요약 전문가입니다.
아래 녹취록을 분석하여 핵심 내용을 파악하고, 구조화된 마크다운 문서로 정리해주세요.

## 녹취록
{{transcript}}

## 핵심 원칙
1. **녹취록에 있는 내용만** 정리하세요. 없는 내용을 추가하거나 추측하지 마세요.
2. **요약문 길이는 녹취록 길이에 비례**해야 합니다:
   - 짧은 녹취록(1-2문장): 핵심 요약 1-2줄 + 간단한 본문
   - 중간 녹취록(3-10문장): 핵심 요약 3줄 + 2-3개 섹션
   - 긴 녹취록(10문장 이상): 핵심 요약 3줄 + 충분한 섹션으로 상세 정리
3. 불명확한 부분은 "[불명확]"으로 표시하세요.

## 출력 형식

### 제목
- 녹취록의 **전체 맥락을 요약한 제목**을 작성하세요.
- 예시: "일본 오사카 여행 전날 일정 정리", "AI 서비스 개발 현황과 시장 분석"
- ❌ 금지: 녹취록 첫 문장 그대로 복사, "짧은 음성 메모" 같은 일반적인 제목

### 본문 구성
1. **3줄 핵심 요약** (필수): 전체 내용의 핵심을 3가지로 요약
2. **본문 섹션들**: 녹취록 맥락에 맞는 소제목으로 구성
   - 회의: "논의 사항", "결정 사항", "액션 아이템"
   - 일정/계획: "오늘 일정", "내일 일정", "준비 사항"
   - 아이디어/브레인스토밍: "핵심 아이디어", "고려 사항"
   - 강의/학습: "주요 개념", "핵심 포인트"
   - **소제목에는 이모지를 사용하지 마세요**

## 응답 형식 (반드시 준수)

[TITLE]
맥락을 반영한 실제 제목
[/TITLE]
[CONTENT]
### 📌 3줄 핵심 요약
- 첫 번째 핵심 내용
- 두 번째 핵심 내용
- 세 번째 핵심 내용

## 첫 번째 섹션 제목
본문 내용...

## 두 번째 섹션 제목
본문 내용...
[/CONTENT]

## ⚠️ 절대 금지
- "(제목)", "(핵심 1)" 같은 플레이스홀더 출력
- "녹취록을 제공해주세요" 같은 입력 요청 문구
- 녹취록 원본을 그대로 복사하여 붙여넣기
- "녹음 내용이 짧습니다" 같은 메타 코멘트`;

export function buildUniversalPrompt(transcript: string): string {
  return UNIVERSAL_PROMPT.replace("{{transcript}}", transcript);
}
